{% extends "base.html" %}

{% block title %}Registration - Smart Attendance System{% endblock %}

{% block head %}
<!-- Extra links or scripts for the student page -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
   <title>Student LOgin</title>
{% endblock %}

{% block extra_css %}
    <style type='text/css'>
        body {
            background-image: url('/static/image/background1.jpg');
            background-color: lightsteelblue;
            background-size: cover;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin-top: 40px;
            height: 100vh;
            padding: 0;
            margin: 0;
        }

        .login-container {
            background-color: rgba(211, 211, 211, 0.5);
            padding: 20px;
            border-radius: 20px;
            margin-top: 50px;
            height: 400px;
        }
        .form-label {
            font-size: 20px;
            margin-right: 10px;
            padding-top:10px;
        }
        .form-control {
            font-size: 20px;
            margin-top: 10px;
            margin-bottom: 10px;
        }
        .login-btn {
            width: 30%;
            font-size: 20px;
        }
       .flash-message-container {
    display: none; /* Start hidden */
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1050; /* Ensure it's above other content */
    max-width: 80%; /* Adjust as needed */
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Optional: Adds a shadow for better visibility */
}

.flash-message {
    padding: 20px;
    background-color: #f8d7da; /* Example for error messages */
    border-color: #f5c6cb;
    color: #721c24;
    border-radius: 5px;
    text-align: center;
}
    </style>
{% endblock %}
{% block content %}
 <div class="flash-message-container">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="flash-message alert alert-{{ category }}" role="alert">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
</div>

<div class="container d-flex justify-content-center">
    <div class="login-container col-md-4" style="border-radius: 0px;background-color:rgba(230, 248, 220, 0.5); padding: 0px;">
        <form action="/login" method="post">
            <h2 class="text-center" style="border-radius: 0px 0px 0px 0px;background-color: #00BFFF;color: white;padding: 10px;">Student Login</h2>

            <!-- Username -->
            <div class="row mb-3" style="padding: 10px;">
                <label for="username" class="col-sm-3  form-label">Username:</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="username" name="username" required>
                </div>
            </div>

            <!-- Password -->
            <div class="row mb-3" style="padding: 10px;">
                <label for="password" class="col-sm-3 form-label">Password:</label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" id="password" name="password" required>
                </div>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-dark login-btn">Login</button>
            </div>
        </form>
        <div class="text-center mt-3">
            <a href="/registration" style="color: white;">Don't have an account? Register here.</a>
        </div>
    </div>
</div>

{% endblock %}
{% block scripts %}
<script>
window.onload = function() {
    // Check if there are any flash messages
    const flashContainer = document.querySelector('.flash-message-container');
    if (flashContainer) {
        // Make the flash message container visible
        flashContainer.style.display = 'block';

        // Hide the flash message container after 5 seconds
        setTimeout(function() {
            flashContainer.style.display = 'none';
        }, 5000);
    }
};
</script>
{% endblock %}